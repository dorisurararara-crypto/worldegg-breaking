import{i as e}from"./index-C8FSpu3-.js";var t=class{constructor(e){this.audio=e}},n=class n extends e{async resume(e){let t=this.getAudioAsset(e.assetId).audio;if(t.paused)return t.play()}async pause(e){return this.getAudioAsset(e.assetId).audio.pause()}async getCurrentTime(e){return{currentTime:this.getAudioAsset(e.assetId).audio.currentTime}}async getDuration(e){let t=this.getAudioAsset(e.assetId).audio;if(Number.isNaN(t.duration))throw`no duration available`;if(!Number.isFinite(t.duration))throw`duration not available => media resource is streaming`;return{duration:t.duration}}async configure(e){throw`configure is not supported for web: ${JSON.stringify(e)}`}async preload(e){if(n.AUDIO_ASSET_BY_ASSET_ID.has(e.assetId))throw`AssetId already exists. Unload first if like to change!`;if(!e.assetPath?.length)throw`no assetPath provided`;if(!e.isUrl&&!RegExp(`^/?`+n.FILE_LOCATION).test(e.assetPath)){let t=e.assetPath.startsWith(`/`)?``:`/`;e.assetPath=`${n.FILE_LOCATION}${t}${e.assetPath}`}let r=new Audio(e.assetPath);r.autoplay=!1,r.loop=!1,r.preload=`auto`,e.volume&&(r.volume=e.volume),n.AUDIO_ASSET_BY_ASSET_ID.set(e.assetId,new t(r))}async play(e){let t=this.getAudioAsset(e.assetId).audio;return await this.stop(e),t.loop=!1,t.currentTime=e.time??0,t.play()}async loop(e){let t=this.getAudioAsset(e.assetId).audio;return await this.stop(e),t.loop=!0,t.play()}async stop(e){let t=this.getAudioAsset(e.assetId).audio;t.pause(),t.loop=!1,t.currentTime=0}async unload(e){await this.stop(e),n.AUDIO_ASSET_BY_ASSET_ID.delete(e.assetId)}async setVolume(e){if(typeof e?.volume!=`number`)throw`no volume provided`;let t=this.getAudioAsset(e.assetId).audio;t.volume=e.volume}async isPlaying(e){return{isPlaying:!this.getAudioAsset(e.assetId).audio.paused}}getAudioAsset(e){if(this.checkAssetId(e),!n.AUDIO_ASSET_BY_ASSET_ID.has(e))throw`no asset for assetId "${e}" available. Call preload first!`;return n.AUDIO_ASSET_BY_ASSET_ID.get(e)}checkAssetId(e){if(typeof e!=`string`)throw`assetId must be a string`;if(!e?.length)throw`no assetId provided`}};n.FILE_LOCATION=`assets/sounds`,n.AUDIO_ASSET_BY_ASSET_ID=new Map;export{n as NativeAudioWeb};